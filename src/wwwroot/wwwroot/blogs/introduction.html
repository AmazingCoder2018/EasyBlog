<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/app.css">
  <link rel="stylesheet" href="/css/markdown.css">
  <title></title>
</head>
<body class="container mx-auto px-4 sm:px-6 lg:px-8 dark:bg-neutral-900 pb-4">
<h1 id="blazor-blog">Blazor-blog</h1>
<p>借助<code>GitHub Page</code>和<code>.NET Blazor</code>，你可以在5分钟内免费拥有个人博客。</p>
<h2 id="github-page">使用Github Page部署</h2>
<h3 id="fork">Fork本仓库</h3>
<p>点击Fork按钮，并创建自己的仓库。</p>
<h3 id="base-href">修改 base href</h3>
<p>当你使用Github Page或使用ISS子应用部署时，需要调整base href。</p>
<p>你只需要修改根目录下的<code>webinfo.json</code>文件中的<code>BaseHref</code>值即可，通常是你的项目名称或子目录名。
如:</p>
<div class="language-json"><pre>
{
  <span class="jsonKey">&quot;Name&quot;</span>: <span class="jsonString">&quot;Niltor Blog&quot;</span>,
  <span class="jsonKey">&quot;Description&quot;</span>: <span class="jsonString">&quot;My Blog - Powered by Ater Blog&quot;</span>,
  <span class="jsonKey">&quot;AuthorName&quot;</span>: <span class="jsonString">&quot;Ater&quot;</span>,
  <span class="jsonKey">&quot;BaseHref&quot;</span>: <span class="jsonString">&quot;/blazor-blog/&quot;</span>
}

</pre></div>
<div class="markdown-alert markdown-alert-important">
<p class="markdown-alert-title"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Important</p>
<p>注意，尾部的<code>/</code>是必需的。</p>
<p>如果你配置了自定义域名，并且没有使用子目录，请将BaseHref设置为<code>/</code>。</p>
</div>
<h3 id="section">编写博客</h3>
<p>请使用任何你习惯的markdown编辑器编写博客,唯一的要求是将博客内容放到<code>Content</code>目录下。你可以在该目录下创建多级目录。</p>
<h3 id="section-1">发布博客</h3>
<p>你只需要正常提交代码即可，github action会自动构建并最终发布你的博客，发布成功后可打开您的 GitHub Page 查看。</p>
<h2 id="section-2">部署到其他服务</h2>
<p>如果你不使用Github Page，那么你也可以轻松的部署到其他应用。核心的步骤只需要两步。</p>
<h3 id="blazor">构建Blazor项目</h3>
<p>我们使用<code>Blazor WASM</code>来开发前端静态网站，所以，你只需要使用<code>dotnet publish</code>命令将网站发布成静态文件即可，在根目录下执行:</p>
<pre><code class="language-dotnetcli">dotnet publish ./src/ -c Release -o ./_site
</code></pre>
<h3 id="section-3">生成静态内容</h3>
<p><code>BuildSite</code>项目是用来将markdown转换成html的，请在根目录执行:</p>
<div class="language-powershell"><pre>
 dotnet run <span class="powershellOperator">--</span>project .\Lib\BuildSite\ .\Content .\_site Production

</pre></div>
<p>在根目录下，你会看到<code>_site</code>目录。</p>
<h3 id="section-4">上传到你的服务器</h3>
<p>将<code>_site\wwwroot</code>中的所有文件复制到你的服务器即可。</p>
<div class="markdown-alert markdown-alert-tip">
<p class="markdown-alert-title"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p>
<p>根目录下的<code>publishToLocal.ps1</code>脚本可以自动完成构建和生成的操作，最终内容将在根目录下<code>_site</code>目录中。</p>
<p>如果你使用自动化部署，可参考.github/workflows中的脚本。</p>
</div>
<h2 id="section-5">二次开发</h2>
<p>fork之后，你将拥有所有的自定义权限，因为所有的源代码都已经在你自己的仓库中。</p>
<p>仓库主要包含两个核心项目，一个是<code>BuildSite</code>，该项目是用来生成数据文件的，其中包括将markdown文件转换成html文件。</p>
<p><code>Blog</code>项目是一个Blazor WASM项目，默认包含了博客的主页定义。你可以自由的添加和修改其他的功能。</p>
<h3 id="section-6">自定义博客样式</h3>
<p><code>wwwroot/css</code>目录下的<code>markdown.css</code>文件，是用来定义博客页中的样式，你可以通过修改该文件来自定义自己想要的样式。</p>
<h2 id="section-7">🎊功能列表</h2>
<h3 id="section-8">基础功能</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input disabled="disabled" type="checkbox" checked="checked" /> 博客主页</li>
<li class="task-list-item"><input disabled="disabled" type="checkbox" checked="checked" /> 博客的分类和搜索</li>
<li class="task-list-item"><input disabled="disabled" type="checkbox" checked="checked" /> 博客详情页基础内容展示</li>
</ul>
<h3 id="section-9">生成工具</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input disabled="disabled" type="checkbox" checked="checked" /> 生成分类和博客信息</li>
<li class="task-list-item"><input disabled="disabled" type="checkbox" checked="checked" /> 生成md对应的html文件</li>
</ul>
<h3 id="section-10">待添加和完善功能</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input disabled="disabled" type="checkbox" /> 博客页的TOC内容生成</li>
<li class="task-list-item"><input disabled="disabled" type="checkbox" /> C#代码片段的加强</li>
<li class="task-list-item"><input disabled="disabled" type="checkbox" checked="checked" /> 博客详情页的darkMode样式</li>
</ul>


</body>
</html>